<!DOCTYPE html>
<html>
<head>
    <title>Generate PNG Assets</title>
    <style>
        body { font-family: system-ui; padding: 20px; background: #1a1a2e; color: #e8e8f0; }
        canvas { border: 1px solid #333; margin: 10px; }
        button { padding: 10px 20px; margin: 5px; cursor: pointer; }
        .section { margin: 20px 0; }
        h2 { color: #00f0ff; }
    </style>
</head>
<body>
    <h1>NeoMatrix Asset Generator</h1>
    <p>Click to generate and download PNG assets for SEO/social media.</p>

    <div class="section">
        <h2>OG Image (1200x630)</h2>
        <canvas id="og-canvas" width="1200" height="630"></canvas>
        <br>
        <button onclick="downloadOG()">Download og-image.png</button>
    </div>

    <div class="section">
        <h2>Apple Touch Icon (180x180)</h2>
        <canvas id="apple-canvas" width="180" height="180"></canvas>
        <br>
        <button onclick="downloadApple()">Download apple-touch-icon.png</button>
    </div>

    <div class="section">
        <h2>Favicon 32x32</h2>
        <canvas id="fav32-canvas" width="32" height="32"></canvas>
        <br>
        <button onclick="downloadFav32()">Download favicon-32x32.png</button>
    </div>

    <div class="section">
        <h2>Favicon 16x16</h2>
        <canvas id="fav16-canvas" width="16" height="16"></canvas>
        <br>
        <button onclick="downloadFav16()">Download favicon-16x16.png</button>
    </div>

    <script>
        const colors = {
            bg: '#0a0a0f',
            bgLight: '#14141f',
            cell: '#1a1a24',
            cyan: '#00f0ff',
            magenta: '#ff00aa',
            green: '#00ff6a',
            text: '#e8e8f0',
            textMuted: '#a0a0b0',
            border: '#2a2a3e'
        };

        function drawRoundedRect(ctx, x, y, w, h, r) {
            ctx.beginPath();
            ctx.moveTo(x + r, y);
            ctx.lineTo(x + w - r, y);
            ctx.quadraticCurveTo(x + w, y, x + w, y + r);
            ctx.lineTo(x + w, y + h - r);
            ctx.quadraticCurveTo(x + w, y + h, x + w - r, y + h);
            ctx.lineTo(x + r, y + h);
            ctx.quadraticCurveTo(x, y + h, x, y + h - r);
            ctx.lineTo(x, y + r);
            ctx.quadraticCurveTo(x, y, x + r, y);
            ctx.closePath();
            ctx.fill();
        }

        function drawLED(ctx, x, y, size, color, glow = true) {
            const r = size * 0.15;
            if (glow && color !== colors.cell) {
                // Outer glow
                ctx.fillStyle = color + '40';
                drawRoundedRect(ctx, x - 3, y - 3, size + 6, size + 6, r + 2);
                // Inner glow
                ctx.fillStyle = color + '80';
                drawRoundedRect(ctx, x - 1, y - 1, size + 2, size + 2, r + 1);
            }
            ctx.fillStyle = color;
            drawRoundedRect(ctx, x, y, size, size, r);
            // Highlight
            if (color !== colors.cell) {
                ctx.fillStyle = 'rgba(255,255,255,0.25)';
                drawRoundedRect(ctx, x + size * 0.1, y + size * 0.1, size * 0.4, size * 0.2, r * 0.5);
            }
        }

        function drawOGImage() {
            const canvas = document.getElementById('og-canvas');
            const ctx = canvas.getContext('2d');
            const w = 1200, h = 630;

            // Background
            ctx.fillStyle = colors.bg;
            ctx.fillRect(0, 0, w, h);

            // Grid pattern
            ctx.strokeStyle = colors.cyan + '15';
            ctx.lineWidth = 0.5;
            for (let i = 0; i < w; i += 60) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i, h);
                ctx.stroke();
            }
            for (let i = 0; i < h; i += 60) {
                ctx.beginPath();
                ctx.moveTo(0, i);
                ctx.lineTo(w, i);
                ctx.stroke();
            }

            // LED Matrix container
            ctx.fillStyle = colors.bgLight;
            drawRoundedRect(ctx, 60, 145, 440, 340, 16);
            ctx.strokeStyle = colors.border;
            ctx.lineWidth = 2;
            ctx.stroke();

            // LED pattern spelling "NM" (stylized)
            const ledSize = 45;
            const gap = 15;
            const startX = 80;
            const startY = 165;

            const pattern = [
                [1, 0, 0, 1, 0, 2, 2],
                [1, 1, 0, 1, 0, 2, 0],
                [1, 0, 1, 1, 0, 2, 2],
                [1, 0, 0, 1, 0, 2, 0],
            ];

            for (let row = 0; row < 4; row++) {
                for (let col = 0; col < 7; col++) {
                    const x = startX + col * (ledSize + gap);
                    const y = startY + row * (ledSize + gap);
                    const val = pattern[row][col];
                    const color = val === 0 ? colors.cell : val === 1 ? colors.cyan : colors.magenta;
                    drawLED(ctx, x, y, ledSize, color);
                }
            }

            // Title
            ctx.fillStyle = colors.cyan;
            ctx.font = 'bold 72px system-ui, -apple-system, sans-serif';
            ctx.shadowColor = colors.cyan;
            ctx.shadowBlur = 20;
            ctx.fillText('NeoMatrix', 580, 230);
            ctx.shadowBlur = 0;

            ctx.fillStyle = colors.text;
            ctx.font = '500 48px system-ui, -apple-system, sans-serif';
            ctx.fillText('Frame Creator', 580, 300);

            ctx.fillStyle = colors.textMuted;
            ctx.font = '24px system-ui, -apple-system, sans-serif';
            ctx.fillText('Design LED matrix animations for WS2812 NeoPixel', 580, 380);
            ctx.fillText('displays. Export to Rust code or animated GIF.', 580, 420);

            // Feature pills
            const pills = [
                { text: 'Multi-Color', color: colors.cyan },
                { text: 'GIF Export', color: colors.magenta },
                { text: 'Rust Code', color: colors.green }
            ];

            pills.forEach((pill, i) => {
                const px = 580 + i * 160;
                const py = 480;
                ctx.fillStyle = '#1a1a2e';
                drawRoundedRect(ctx, px, py, 140, 40, 20);
                ctx.strokeStyle = pill.color;
                ctx.lineWidth = 1;
                ctx.stroke();
                ctx.fillStyle = pill.color;
                ctx.font = '16px system-ui, sans-serif';
                ctx.textAlign = 'center';
                ctx.fillText(pill.text, px + 70, py + 26);
            });
            ctx.textAlign = 'left';

            // Logo in corner
            ctx.fillStyle = colors.bgLight;
            drawRoundedRect(ctx, 1080, 520, 80, 80, 12);

            const miniLeds = [
                [0, 1, 0],
                [2, 1, 2],
                [0, 1, 0]
            ];
            for (let row = 0; row < 3; row++) {
                for (let col = 0; col < 3; col++) {
                    const x = 1092 + col * 20;
                    const y = 532 + row * 20;
                    const val = miniLeds[row][col];
                    const color = val === 0 ? colors.cell : val === 1 ? colors.cyan : colors.magenta;
                    drawLED(ctx, x, y, 16, color, false);
                }
            }
        }

        function drawIcon(ctx, size) {
            const cellSize = size / 4;
            const gap = cellSize * 0.15;
            const ledSize = cellSize - gap;
            const r = size * 0.18;
            const padding = cellSize * 0.5;

            // Background
            ctx.fillStyle = colors.bgLight;
            drawRoundedRect(ctx, 0, 0, size, size, r);

            // Border
            ctx.strokeStyle = colors.border;
            ctx.lineWidth = size * 0.03;
            ctx.stroke();

            const pattern = [
                [0, 1, 0],
                [2, 1, 2],
                [0, 1, 0]
            ];

            for (let row = 0; row < 3; row++) {
                for (let col = 0; col < 3; col++) {
                    const x = padding + col * cellSize;
                    const y = padding + row * cellSize;
                    const val = pattern[row][col];
                    const color = val === 0 ? colors.cell : val === 1 ? colors.cyan : colors.magenta;
                    drawLED(ctx, x, y, ledSize, color, size > 32);
                }
            }
        }

        function drawAppleIcon() {
            const canvas = document.getElementById('apple-canvas');
            const ctx = canvas.getContext('2d');
            drawIcon(ctx, 180);
        }

        function drawFav32() {
            const canvas = document.getElementById('fav32-canvas');
            const ctx = canvas.getContext('2d');
            drawIcon(ctx, 32);
        }

        function drawFav16() {
            const canvas = document.getElementById('fav16-canvas');
            const ctx = canvas.getContext('2d');
            drawIcon(ctx, 16);
        }

        function download(canvas, filename) {
            const link = document.createElement('a');
            link.download = filename;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        function downloadOG() { download(document.getElementById('og-canvas'), 'og-image.png'); }
        function downloadApple() { download(document.getElementById('apple-canvas'), 'apple-touch-icon.png'); }
        function downloadFav32() { download(document.getElementById('fav32-canvas'), 'favicon-32x32.png'); }
        function downloadFav16() { download(document.getElementById('fav16-canvas'), 'favicon-16x16.png'); }

        // Draw all on load
        window.onload = function() {
            drawOGImage();
            drawAppleIcon();
            drawFav32();
            drawFav16();
        };
    </script>
</body>
</html>
